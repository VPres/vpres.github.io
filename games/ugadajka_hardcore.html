<!DOCTYPE html>
<html>
<head>
	<meta charset='utf-8'>
	<title>Угадайка хардкор</title>
	<link rel="stylesheet" href="../style.css">
</head>
<body>
	<div id="header">
		<a href="../index.html">Главная</a><span>/</span>
		<a href="ugadajka_2players.html">Угадайка на двоих</a><span>/</span>
		<a href="ugadajka_hardcore.html" style="color: #fff">Угадайка хардкор</a><span>/</span>
		<a href="ridd2.0.html">Загадки</a>
	</div>
<div id="content">
	<h1>Угадайка хардкор</h1>

	<h1><input type="button" id="start" value="ИГРАТЬ" onmouseup="gameStart()" /></h1>
	.<div class="box_text">
		<p id="outPut" style="color: green; font-weight:bold;" align="center" ></p>
	</div>
	<script type="text/javascript">
		
		function outPut(str) {
			document.getElementById('outPut').innerHTML += str;
		}

		function gameStart () {
			document.getElementById('outPut').innerHTML = "";
			var min = 1;
			var max = 100;
			var number_of_attempts = 0;
			var max_number_of_attempts = 14;
			var attempt = 0;
			var secret_number = Math.floor(Math.random() * ((max + 1) - min)) + min;
			var life = 2;
			alert("Добро пожаловать в игру 'Угадайка хардкор'!\nКомпьютер загадал число от "+min+" до "+max+".\nКоличество попыток "+max_number_of_attempts+"\nУ вас ограниченное количество жизней: "+life+" жизни. \nЕсли ваше число больше загаданного, то вы теряете одну жизнь :)");

			do
			{
				number_of_attempts++;

				if (number_of_attempts < max_number_of_attempts)
					attempt = +prompt(number_of_attempts+"-я попытка. Жизни: "+life+" <3. Ваш вариант:");
				else
					attempt = +prompt("Последняя попытка. Жизни: "+life+" <3. Ваш вариант:");

				if (attempt > secret_number){
					outPut(String(number_of_attempts+'. '+attempt+' - <b style="color: crimson">перелет -1 <3</b>.<br>'));
					alert(number_of_attempts+". "+attempt+" - перелет. Вы потеряли 1 <3");
					life--
				}
				if (attempt < secret_number){
					outPut(String(number_of_attempts+'. '+attempt+' - <strong style="color: coral">недолет</strong><br>'));
					alert(number_of_attempts+". "+attempt+" - недолет");
				}
				if (attempt == secret_number)
					continue
			}
			while(attempt != secret_number && number_of_attempts < max_number_of_attempts && life != 0);

			/*if (active_player == player1)
				winner = player2;
			else
				winner = player1;
			Думал continue не подойдет к do-while*/

			if (attempt == secret_number)
				outPut(String('<h2>'+number_of_attempts+'. '+attempt+'</h2> <h1 style="color: coral">Поздравляем! Вы угадали!</h1>'));
			else if (life == 0)
				outPut(String("<h2 style='color: coral'>Вы потратили все жизни! GAME OVER !!! Попробуйте еще раз</h2>"));
			else
				outPut(String("<h2 style='color: coral'>К сожалению у вас не осталось попыток! Попробуйте еще раз</h2>"));
		}
	</script>

</div>

<div id="footer">
	Copyright © 2016 <a href="https://geekbrains.ru/"> GeekBrains </a>
</div>

</body>
</html>